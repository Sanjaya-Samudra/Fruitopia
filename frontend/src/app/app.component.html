<mat-toolbar color="primary" class="fruitopia-toolbar premium-toolbar">
  <!-- Left Section: Brand -->
  <div class="toolbar-brand">
    <div class="brand-container">
      <div class="logo-wrapper">
        <img class="brand-logo" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><circle cx='36' cy='28' r='14' fill='%23ff5a5f'/><path d='M28 18c2-6 12-8 14-6 0 2-6 6-6 6s-6 4-8 0z' fill='%232d3a3a'/></svg>" alt="Fruitopia logo" />
        <div class="logo-glow"></div>
      </div>
      <div class="brand-info">
        <span class="brand-text">Fruitopia</span>
        <span class="brand-subtitle">AI-Powered Fruit Intelligence</span>
      </div>
    </div>
  </div>

  <!-- Center Section: Navigation -->
  <div class="toolbar-navigation">
    <nav class="nav-menu">
      <button mat-button class="nav-item" routerLink="/" routerLinkActive="active" aria-label="Home">
        <mat-icon>home</mat-icon>
        <span>Home</span>
      </button>
      <button mat-button class="nav-item" routerLink="/gallery" routerLinkActive="active" aria-label="Gallery">
        <mat-icon>photo_library</mat-icon>
        <span>Gallery</span>
      </button>
      <button mat-button class="nav-item" routerLink="/recipes" routerLinkActive="active" aria-label="Recipes">
        <mat-icon>restaurant</mat-icon>
        <span>Recipes</span>
      </button>
      <button mat-button class="nav-item" routerLink="/recommend" routerLinkActive="active" aria-label="Recommendations">
        <mat-icon>star</mat-icon>
        <span>Recommend</span>
      </button>
      <button mat-button class="nav-item" routerLink="/vision" routerLinkActive="active" aria-label="Vision">
        <mat-icon>camera_alt</mat-icon>
        <span>Vision</span>
      </button>
    </nav>
  </div>

  <!-- Right Section: Actions -->
  <div class="toolbar-actions">
    <button mat-flat-button class="chat-button" (click)="toggleChat()" aria-label="Talk to AI Assistant">
      <mat-icon>chat</mat-icon>
      <span>Talk to AI</span>
    </button>
  </div>
</mat-toolbar>

<div class="main-content">
  <router-outlet></router-outlet>
</div>

<!-- Floating Chat Widget -->
<app-chat-widget #chatWidget></app-chat-widget>
